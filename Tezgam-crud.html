<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tazgam Express</title>
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/icons.css">
    <link rel="stylesheet" href="css/responsee.css">
    <link rel="stylesheet" href="owl-carousel/owl.carousel.css">
    <link rel="stylesheet" href="owl-carousel/owl.theme.css">
    <link rel="stylesheet" href="css/lightcase.css">
	<link rel="shortcut icon" href="tem/img/logo.png">
    <!-- CUSTOM STYLE -->      
    <link rel="stylesheet" href="css/template-style.css">
    <link href="https://fonts.googleapis.com/css?family=Poppins:100,200,300,400,700,900&amp;subset=latin-ext" rel="stylesheet"> 
    <script type="text/javascript" src="js/jquery-1.8.3.min.js"></script>
    <script type="text/javascript" src="js/jquery-ui.min.js"></script> 
    
    
<style>
	   
	   
table {
    font-family: arial, sans-serif;
    border-collapse: collapse;
    width: 100%;
}

td, th {
    border: 1px solid #dddddd;
    text-align: left;
    padding: 8px;
}

tr:nth-child(even) {
    background-color: #dddddd;
}

.button {
    background-color: #4CAF50;
    border: none;
    color: white;
    padding: 15px 32px;
    text-align: center;
    text-decoration: none;
    display: inline-block;
    font-size: 16px;
    margin: 4px 2px;
    cursor: pointer;
}


input[type=text], select {
    width: 100%;
    padding: 12px 20px;
    margin: 8px 0;
    display: inline-block;
    border: 1px solid #ccc;
    border-radius: 4px;
    box-sizing: border-box;
}

</style>   
    
    
    
      
  </head>

  <body class="size-1280">
    <!-- PREMIUM FEATURES BUTTON -->
  	<a target="_blank" class="hide-s" href="../template/virtua-premium-responsive-business-template/" style="position:fixed;top:120px;right:-14px;z-index:10;"><img src="img/premium-features.png" alt=""></a>
    <!-- HEADER -->
    <header role="banner" class="position-absolute">    
      <!-- Top Navigation -->
      <nav class="background-transparent background-primary-dott full-width sticky">          
        <div class="top-nav"> 
          <!-- mobile version logo -->              
          <div class="logo hide-l hide-xl hide-xxl">
             <a href="index.html" class="logo">
              <!-- Logo White Version -->
              <img class="logo-white" src="img/logo_white.png" alt="">
              <!-- Logo Dark Version -->
              <img class="logo-dark" src="img/logo.png" alt="">
            </a>
          </div> 
		  
          <p class="nav-text"></p>
          
          <!-- left menu items -->
          <div class="top-nav left-menu">
             <ul class="right top-ul chevron">
                <li><a href="index.html">Home</a></li>
                <li><a href="about-us.html">About Us</a></li>
                <li><a href="contact.html">Contact</a></li>
             </ul>
          </div>
          
          <!-- logo -->
          <ul class="logo-menu">
            <a href="index.html" class="logo">
              <!-- Logo White Version -->
              <img class="logo-white" src="img/logo_white.png" alt="">
              <!-- Logo Dark Version -->
              <img class="logo-dark" src="img/logo.png
			  
			  
			  " alt="">
            </a>
          </ul>
          
          <!-- right menu items -->
          <div class="top-nav right-menu">
             <ul class="top-ul chevron">
                <li>
                  <a href="schedule.html">Schedule</a>
                  
                </li>
                <li><a href="gallery.html">Gallery</a></li>
                <li><a onClick="logout()">Logout</a></li>
             </ul> 
          </div>
        </div>
      </nav>
    </header>
    
    <!-- MAIN -->
    <main role="main">    
      <!-- Header -->
      <header class="section-top-padding background-image text-center" style="background-image:url(img/9.jpg)">
       <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br> 
        <br><br><br><br><br><br><br><br><br><br> <br><br><br><br><br><br><br><br><br><br>  
        
        <!-- dark full width arrow object -->
        <img class="arrow-object" src="img/arrow-object-dark.svg" alt="">
      </header>
      
      <!-- Section 1 -->
      <section class="section-small-padding background-dark text-center">      
        <div class="line">
          <div class="m-10 l-6 xl-4 center">
            <div class="margin">
              
             
            </div>
          </div>                                                                                               
        </div>       
      </section>
      
      <!-- Section 2 -->
      <section >
        <div style="text-align:center;">
          <br><br>
    
        
      <header class="section background-image text-center">
         <h1 style="font-weight:bold" style="font-size:24px" >Tazgam Express Karachi To Rawalpindi</h1>
         </br>
       <script src="https://www.gstatic.com/firebasejs/5.5.8/firebase.js"></script>
<script>
  // Initialize Firebase
  var config = {
    apiKey: "AIzaSyCz7MLsDK7YIB2iWopwKDg3oEc4OcAHXcw",
    authDomain: "locomotive-geo-locotar.firebaseapp.com",
    databaseURL: "https://locomotive-geo-locotar.firebaseio.com",
    projectId: "locomotive-geo-locotar",
    storageBucket: "locomotive-geo-locotar.appspot.com",
    messagingSenderId: "953156487850"
  };
  firebase.initializeApp(config);
</script>


<script>
  
  firebase.auth().onAuthStateChanged(function(user) {
  if (user) {
    // User is signed in.

    document.getElementById("user_div").style.display = "block";
    document.getElementById("login_div").style.display = "none";

    var user = firebase.auth().currentUser;

    if(user != null){


      var email_id = user.email;
    document.getElementById("user_para").innerHTML = "Welcome User : " + email_id;
	
window.location = 'tezgam-express.html';
    }

  } else {
    // No user is signed in.

    document.getElementById("user_div").style.display = "none";
    document.getElementById("login_div").style.display = "block";

  }
});

function login(){

  var userEmail = document.getElementById("email_field").value;
  var userPass = document.getElementById("password_field").value;

  firebase.auth().signInWithEmailAndPassword(userEmail, userPass).catch(function(error) {
    // Handle Errors here.
    var errorCode = error.code;
    var errorMessage = error.message;

    window.alert("Error : " + errorMessage);

    // ...
  });

}

function logout(){

	
  firebase.auth().signOut();
  window.location="index.html";
}
  
  </script>





</head>
<body>
<h3 style="font-size:38px " style=" font-style:oblique">Details</h3>
<table id="tbl_users_list" border="1">
  <tr>
   <td>#ID</td>
   <td>Stop</td>
    <td>Arrival</td>
    <td>Departure</td>
  </tr>
 </table>


</br>
</br>
</br>



 <table class="main-div" >
  <tr>
   <td>Id: </td>
   <td><input type="text" name="id" id="id" /></td>
  </tr>
  <tr>
   <td>Train Stop: </td>
   <td><input type="text" name="train_stop" id="train_stop" /></td>
  </tr>
   <tr>
   <td>Train Arrival: </td>
   <td><input type="text" name="train_arrival" id="train_arrival" /></td>
  </tr>
  <tr>
   <td>Train Departure: </td>
   <td><input type="text" name="train_departure" id="train_departure" /></td>
  </tr>
  <tr  >
   <td  colspan="2" class="text-center" >
    <input type="button" class="button" value="Save"  onClick="save_user();" />
    <input type="button" class="button" value="Update" onClick="update_user();" />
    <input type="button" class="button" value="Delete" onClick="delete_user();" />


   </td>
  </tr>
 </table>
 </br>

 
 
 
 
 
 <script>









  var tblUsers = document.getElementById('tbl_users_list');
  var databaseRef = firebase.database().ref('/tezgam-express/schedule/');
  var rowIndex = 1;
  
  databaseRef.once('value', function(snapshot) {
    snapshot.forEach(function(childSnapshot) {
   var childKey = childSnapshot.key;
   var childData = childSnapshot.val();
   
   var row = tblUsers.insertRow(rowIndex);
   var cellId = row.insertCell(0);
   var cellSt = row.insertCell(1);
   var cellArr = row.insertCell(2);
   var celldepart = row.insertCell(3);
   cellId.appendChild(document.createTextNode(childKey));
   cellSt.appendChild(document.createTextNode(childData.train_stop));
   cellArr.appendChild(document.createTextNode(childData.train_arrival));
   celldepart.appendChild(document.createTextNode(childData.train_departure));
   
   rowIndex = rowIndex + 1;
    });
  });

   
  function save_user(){
	
	  
   var train_stop = document.getElementById('train_stop').value;
   var train_arrival = document.getElementById('train_arrival').value;
   var train_departure = document.getElementById('train_departure').value;
  
   var uid = firebase.database().ref('locomotive-geo-locotar/tezgam-express/schedule').push().key;
   
  
    
	  
	
   var data = {
    id: uid,
    train_stop: train_stop,
	train_arrival : train_arrival,
	train_departure : train_departure
   }
   
   var updates = {};
   updates['/tezgam-express/schedule/' + uid ] = data;
   firebase.database().ref().update(updates);
   
   alert('The user is  created successfully!');
   reload_page();
  }

  function update_user(){
	   
	   
	   
	     var train_stop = document.getElementById('train_stop').value;
   var train_arrival = document.getElementById('train_arrival').value;
   var train_departure = document.getElementById('train_departure').value;
   var id = document.getElementById('id').value;
   
   if(id !="")
   {

   var data = {
    id: id,
     train_stop: train_stop,
	train_arrival : train_arrival,
	train_departure : train_departure
   }
   
   var updates = {};
   updates['/tezgam-express/schedule/' + id] = data;
   firebase.database().ref().update(updates);
   
    alert('The user is updated successfully!');
   
   reload_page();
   
     }
   else{
	   alert('Please enter an id to update');
	   }
	   
	   
  /* var user_name = document.getElementById('user_name').value;
   var id = document.getElementById('id').value;

   var data = {
    id: id,
    user_name: user_name
   }
   
   var updates = {};
   updates['/karakaram-up/' + id] = data;
   firebase.database().ref().update(updates);*/
   
  
  }
  
  function delete_user(){
	
	var id = document.getElementById('id').value;  
	  if(id != "")
   {
  
   firebase.database().ref().child('/tezgam-express/schedule/' + id).remove();
   alert('The user is deleted successfully!');
   reload_page();
  
   }
   else{
	   alert('Please enter an id to delete');
	   }
  }
  
  function reload_page(){
   window.location.reload();
  }
  
 </script>
     
				</div>
                                 
      </section>
	  
	  <br><br>
      
      
      
     
      
      
      
      
      
    </main>
    
    <!-- FOOTER -->
    <footer>
      
      <!-- Main Footer -->
      <section class="section background-dark">
        <div class="line"> 
          <div class="margin2x">
            <div class="s-12 m-6 l-3 xl-5">
               <h4 class="text-white text-strong">Our Mission</h4>
               <p>
                 Pakistan Railways forms the life line of the country by catering to its needs for large scale movement of freight as well as passenger traffic. It not only contributes to its economic growth but also promotes national integration.


               </p>
            </div>
            <div class="s-12 m-6 l-3 xl-2">
               <h4 class="text-white text-strong margin-m-top-30">Useful Links</h4>
              <li><a href="about-us.html">About Us</a></li>     
               <li><a href="contact.html">Contact</a></li>
			   <li><a href="schedule.html">Schedule</a></li>
               <li><a href="gallery.html">Gallery</a></li>
			   
            </div>
            
            <div class="s-12 m-6 l-3 xl-3">
               <h4 class="text-white text-strong margin-m-top-30">Contact Us</h4>
                <p><i class="icon-sli-screen-smartphone text-primary"></i> +92-312-8925393</p>
                <a class="text-primary-hover" href="admin@pakrailtracking.tk"><i class="icon-sli-mouse text-primary"></i>admin@pakrailtracking.tk</a><br>
                
            </div>
          </div>  
        </div>    
      </section>
      <div class="background-dark">
         <div class="line">
            <hr class="break margin-top-bottom-0" style="border-color: #777;">
         </div>
      </div>
      <!-- Bottom Footer -->
      <section class="padding-2x background-dark full-width">
        <div class="line">
          <div class="s-12 l-6">
            <p class="text-size-16">Copyright 2018, FYP Group#04 CE Dept.</p>
           
          </div>
          
        </div>  
      </section>
    <script type="text/javascript" src="js/responsee.js"></script>
    <script type="text/javascript" src="owl-carousel/owl.carousel.js"></script>
    <script type="text/javascript" src="js/template-scripts.js"></script> 
  </body>
</html>